# æ¨¡å‹é—®é¢˜è¯Šæ–­æ€»ç»“

## ğŸ“Š è¯„ä¼°ç»“æœæ¦‚è§ˆ

åŸºäº100ä¸ªæµ‹è¯•æ ·æœ¬çš„è¯„ä¼°ç»“æœï¼š

| æŒ‡æ ‡ | æ•°å€¼ | çŠ¶æ€ |
|------|------|------|
| æ€»ä½“å‡†ç¡®ç‡ | 84.00% | âœ… è‰¯å¥½ |
| Flakyæ£€æµ‹ç²¾ç¡®ç‡ | 6.25% | âŒ ä¸¥é‡é—®é¢˜ |
| Flakyæ£€æµ‹å¬å›ç‡ | 100.00% | âœ… ä¼˜ç§€ |
| Flakyæ£€æµ‹F1 | 11.76% | âŒ ä¸¥é‡é—®é¢˜ |

## ğŸ¯ æ ¸å¿ƒé—®é¢˜

### é—®é¢˜1ï¼šä¸¥é‡çš„å‡é˜³æ€§ï¼ˆFalse Positiveï¼‰

```
æ··æ·†çŸ©é˜µ:
              é¢„æµ‹Flaky  é¢„æµ‹Non-Flaky
å®é™…Flaky           1           0
å®é™…Non-Flaky      15          84
```

**å…³é”®å‘ç°**ï¼š
- æ¨¡å‹é¢„æµ‹äº†16ä¸ªFlakyæµ‹è¯•
- å…¶ä¸­15ä¸ªæ˜¯é”™çš„ï¼ˆ93.75%çš„å‡é˜³æ€§ç‡ï¼‰
- åªæœ‰1ä¸ªé¢„æµ‹æ­£ç¡®

**å½±å“**ï¼š
- ç²¾ç¡®ç‡æä½ï¼ˆ6.25%ï¼‰
- ä¼šå¯¼è‡´å¤§é‡è¯¯æŠ¥
- ç”¨æˆ·ä¿¡ä»»åº¦ä¸‹é™

### é—®é¢˜2ï¼šè¿‡åº¦æ•æ„Ÿçš„æ¨¡å¼åŒ¹é…

æ¨¡å‹å­¦ä¹ åˆ°äº†è¿‡äºç®€å•çš„è§„åˆ™ï¼š

| æ¨¡å¼ | åˆ¤æ–­ | æ­£ç¡®ç‡ |
|------|------|--------|
| çœ‹åˆ°å¼‚æ­¥æ“ä½œ | â†’ Async Flaky | âŒ 53%è¯¯åˆ¤ |
| çœ‹åˆ°å¤šçº¿ç¨‹ | â†’ Conc Flaky | âŒ 20%è¯¯åˆ¤ |
| çœ‹åˆ°æ—¶é—´æ¯”è¾ƒ | â†’ Time Flaky | âŒ 20%è¯¯åˆ¤ |

## ğŸ“ å…¸å‹é”™è¯¯æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šè¯¯åˆ¤å¹¶å‘æµ‹è¯•

**ID**: 13851  
**æµ‹è¯•**: `ResourcePoolTest.shouldReclaimAndRecreateWhenLullBetweenSpikesOccurs`

```java
@Test
public void shouldReclaimAndRecreateWhenLullBetweenSpikesOccurs() {
    FakeClock clock = new FakeClock();  // â† æ¨¡å‹å¿½ç•¥äº†è¿™ä¸ª
    ResourcePool<Something> pool = getResourcePool(clock, ...);
    // æµ‹è¯•èµ„æºæ± çš„å¹¶å‘è¡Œä¸º
}
```

- âŒ **æ¨¡å‹åˆ¤æ–­**: æ˜¯ - Concï¼ˆè®¤ä¸ºæœ‰ç«æ€æ¡ä»¶ï¼‰
- âœ… **å®é™…æ ‡ç­¾**: Non-Flaky
- âš ï¸ **é—®é¢˜**: æ¨¡å‹æ²¡æœ‰è¯†åˆ«å‡º`FakeClock`ï¼Œè¿™æ˜¯ä¸€ä¸ªMockå¯¹è±¡ï¼Œæ¶ˆé™¤äº†æ—¶é—´ä¸ç¡®å®šæ€§

### æ¡ˆä¾‹2ï¼šè¯¯åˆ¤ç½‘ç»œæµ‹è¯•

**ID**: 298  
**æµ‹è¯•**: `TestNfs3HttpServer.testHttpServer`

```java
@Test
public void testHttpServer() throws Exception {
    Nfs3 nfs = new Nfs3(conf);
    nfs.startServiceInternal(false);  // â† åŒæ­¥å¯åŠ¨
    RpcProgramNfs3 nfsd = (RpcProgramNfs3) nfs.getRpcProgram();
    Nfs3HttpServer infoServer = nfsd.getInfoServer();
    String urlRoot = infoServer.getServerURI().toString();
    String pageContents = DFSTestUtil.urlGet(new URL(urlRoot + ...));
    // DFSTestUtil.urlGetå†…éƒ¨æœ‰é‡è¯•å’Œç­‰å¾…æœºåˆ¶
}
```

- âŒ **æ¨¡å‹åˆ¤æ–­**: æ˜¯ - Asyncï¼ˆè®¤ä¸ºç½‘ç»œè¯·æ±‚ä¸ç¨³å®šï¼‰
- âœ… **å®é™…æ ‡ç­¾**: Non-Flaky
- âš ï¸ **é—®é¢˜**: æ¨¡å‹çœ‹åˆ°ç½‘ç»œè¯·æ±‚å°±åˆ¤Flakyï¼Œæ²¡æœ‰è¯†åˆ«åŒæ­¥æœºåˆ¶

### æ¡ˆä¾‹3ï¼šè¯¯åˆ¤æ—¶é—´æµ‹è¯•

**ID**: 112156  
**æµ‹è¯•**: `TimeServiceTest.assertGetCurrentMillis`

```java
@Test
public void assertGetCurrentMillis() throws Exception {
    assertTrue(timeService.getCurrentMillis() <= System.currentTimeMillis());
    //         â†‘ åº”è¯¥åœ¨è¿‡å»           â†‘ å½“å‰æ—¶é—´
}
```

- âŒ **æ¨¡å‹åˆ¤æ–­**: æ˜¯ - Timeï¼ˆè®¤ä¸ºæ—¶é—´æ¯”è¾ƒä¸ç¨³å®šï¼‰
- âœ… **å®é™…æ ‡ç­¾**: Non-Flaky
- âš ï¸ **é—®é¢˜**: æ¨¡å‹æ²¡ç†è§£`<=`çš„æ–¹å‘æ€§ï¼Œè¿™ä¸ªæ–­è¨€é€»è¾‘ä¸Šæ˜¯åˆç†çš„

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### 1. è®­ç»ƒæ•°æ®ä¸¥é‡ä¸å¹³è¡¡
```
Non-Flaky: 99ä¸ª (99%)
Flaky: 1ä¸ª (1%)
```
æ¨¡å‹å€¾å‘äºå­¦ä¹ å¤šæ•°ç±»çš„æ¨¡å¼

### 2. ç‰¹å¾è¯†åˆ«è¿‡äºè¡¨é¢
æ¨¡å‹åªçœ‹åˆ°ï¼š
- âŒ "æœ‰å¼‚æ­¥æ“ä½œ" â†’ åˆ¤ä¸ºAsync Flaky
- âŒ "æœ‰å¤šçº¿ç¨‹" â†’ åˆ¤ä¸ºConc Flaky
- âŒ "æœ‰æ—¶é—´" â†’ åˆ¤ä¸ºTime Flaky

æ¨¡å‹æ²¡æœ‰çœ‹åˆ°ï¼š
- âœ… æ˜¯å¦æœ‰åŒæ­¥æœºåˆ¶ï¼Ÿ
- âœ… æ˜¯å¦ä½¿ç”¨Mockå¯¹è±¡ï¼Ÿ
- âœ… æµ‹è¯•çš„çœŸå®æ„å›¾æ˜¯ä»€ä¹ˆï¼Ÿ

### 3. ç¼ºä¹è¯­å¢ƒç†è§£

**æ¨¡å‹æ··æ·†äº†**ï¼š
- "æµ‹è¯•å¹¶å‘ä»£ç " â‰  "æµ‹è¯•æœ‰å¹¶å‘é—®é¢˜"
- "åŒ…å«å¼‚æ­¥æ“ä½œ" â‰  "æœ‰å¼‚æ­¥æ—¶åºé—®é¢˜"
- "æ¯”è¾ƒæ—¶é—´" â‰  "ä¾èµ–ç³»ç»Ÿæ—¶é—´"

## ğŸ’¡ æ”¹è¿›æ–¹å‘

### ç«‹å³å¯åšï¼ˆæœ¬å‘¨ï¼‰
1. **ä¼˜åŒ–System Prompt**
   - æ·»åŠ åˆ¤æ–­åŸåˆ™
   - å¼ºè°ƒåŒºåˆ†"æµ‹è¯•X"å’Œ"æœ‰Xé—®é¢˜"
   - æ·»åŠ è´Ÿé¢æ¡ˆä¾‹ï¼ˆä»€ä¹ˆä¸æ˜¯Flakyï¼‰

2. **è°ƒæ•´è¯„ä¼°é‡ç‚¹**
   - ä¸åªçœ‹å‡†ç¡®ç‡
   - é‡ç‚¹å…³æ³¨ç²¾ç¡®ç‡å’Œå¬å›ç‡
   - åˆ†æå…·ä½“é”™è¯¯æ¡ˆä¾‹

### çŸ­æœŸè®¡åˆ’ï¼ˆ2å‘¨ï¼‰
3. **å¹³è¡¡è®­ç»ƒæ•°æ®**
   - æ¬ é‡‡æ ·Non-Flakyæ ·æœ¬
   - ç›®æ ‡æ¯”ä¾‹ï¼šFlaky 30%

4. **æ”¹è¿›Few-Shot**
   - æ·»åŠ "æ˜“æ··æ·†"æ¡ˆä¾‹
   - å±•ç¤ºå®Œæ•´æ¨ç†è¿‡ç¨‹

### ä¸­é•¿æœŸï¼ˆ1-3æœˆï¼‰
5. **å¤šé˜¶æ®µæ¨ç†**
   - é˜¶æ®µ1ï¼šè¯†åˆ«é£é™©
   - é˜¶æ®µ2ï¼šæ£€æŸ¥ä¿æŠ¤æœºåˆ¶
   - é˜¶æ®µ3ï¼šç»¼åˆåˆ¤æ–­

6. **è§„åˆ™è¾…åŠ©**
   - ç¡¬è§„åˆ™ï¼šFakeClock â†’ ä¸æ˜¯Flaky
   - ç¡¬è§„åˆ™ï¼šsleepæ— é‡è¯• â†’ å¯èƒ½Flaky

## ğŸ“ˆ é¢„æœŸæ”¹è¿›

| é˜¶æ®µ | ç²¾ç¡®ç‡ | å¬å›ç‡ | F1 |
|------|--------|--------|-----|
| å½“å‰ | 6.25% | 100% | 11.76% |
| P0å®æ–½å | >30% | >70% | >40% |
| P1å®æ–½å | >50% | >70% | >60% |
| P2å®æ–½å | >70% | >80% | >75% |

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è¯¦ç»†é”™è¯¯åˆ†æ](./MODEL_ERROR_ANALYSIS.md) - æ·±å…¥åˆ†ææ¯ç±»é”™è¯¯
- [æ”¹è¿›æ–¹æ¡ˆ](./IMPROVEMENT_PLAN.md) - å…·ä½“å®æ–½æ­¥éª¤
- [è¯„ä¼°æŠ¥å‘Š](../output/evaluation/evaluation_report.txt) - å®Œæ•´è¯„ä¼°ç»“æœ

---

**ç”Ÿæˆæ—¶é—´**: 2025-10-17  
**è¯„ä¼°æ ·æœ¬**: 100ä¸ª  
**æ•°æ®æ¥æº**: `distillation_fold_1_test_random_100samples_api_top3_p5`
